{% from "layout/soccer_ball_icon.html" import soccer_ball_icon %}
{% if partida.gols and partida.gols|length %}
  {% for g in partida.gols|reverse %}
    <div class="px-4 py-3 flex items-center gap-3">
      <div class="flex-shrink-0 w-12 text-center">
        <span class="text-sm font-semibold text-slate-900">
          {% if g.minuto is not none %}{{ g.minuto }}'{% else %}-{% endif %}
        </span>
      </div>
      <div class="flex-1">
        <div class="flex items-center gap-2">
          {{ soccer_ball_icon("w-4 h-4", "#3B82F6", "flex-shrink-0") }}
          <span class="text-sm font-medium text-slate-900">
            {{ (g.jogador.apelido if g.jogador else None) or (g.jogador.nome_completo if g.jogador else None) or "Jogador" }}
          </span>
          {% if g.gol_contra %}
            <span class="text-xs text-rose-600 font-medium">(GC)</span>
          {% endif %}
        </div>
        {% if g.assistente %}
          <div class="text-xs text-slate-500 mt-0.5 ml-6">
            AssistÃªncia: {{ g.assistente.apelido or g.assistente.nome_completo }}
          </div>
        {% endif %}
      </div>
      {% if partida.status == "em_andamento" %}
        <form hx-post="/gols/{{g.id}}/delete" hx-target="#placar" hx-swap="outerHTML" class="flex-shrink-0">
          <input type="hidden" name="partida_id" value="{{partida.id}}">
          <button class="h-8 w-8 rounded-md hover:bg-slate-100 text-slate-400 hover:text-rose-600 inline-flex items-center justify-center transition-all">
            <i data-lucide="x" class="w-4 h-4"></i>
          </button>
        </form>
      {% endif %}
    </div>
  {% endfor %}
{% else %}
  <div class="px-4 py-8 text-center">
    <div class="text-sm text-slate-400">Sem eventos ainda.</div>
  </div>
{% endif %}
