{% extends "layout/base.html" %}
{% from "layout/card.html" import card %}
{% block breadcrumb %}Temporada{% endblock %}
{% block page_title %}Temporada{% endblock %}
{% block content %}
<div class="mb-6">
  <div class="flex items-center justify-between gap-3">
    <div>
      <h2 class="text-lg font-semibold text-slate-900">{{ temporada.inicio_mes | data_br if temporada.inicio_mes else "—" }} → {{ temporada.fim_mes | data_br if temporada.fim_mes else "—" }}</h2>
      <div class="mt-1 text-sm text-slate-600 flex items-center gap-2 flex-wrap">
        <span class="inline-flex items-center gap-2 text-[11px] px-2 py-0.5 rounded-full bg-white/60 border border-slate-300/60 text-slate-700">
          <i data-lucide="hash" class="w-3.5 h-3.5"></i>
          {{ temporada.id }}
        </span>
        {% if temporada.status == 'ativa' %}
          <span class="inline-flex items-center gap-2 text-[11px] px-2 py-0.5 rounded-full bg-emerald-50/70 border border-emerald-300/60 text-emerald-700">
            <span class="w-1.5 h-1.5 rounded-full bg-emerald-500"></span>
            Ativa
          </span>
        {% else %}
          <span class="inline-flex items-center gap-2 text-[11px] px-2 py-0.5 rounded-full bg-white/60 border border-slate-300/60 text-slate-600">
            <span class="w-1.5 h-1.5 rounded-full bg-slate-400"></span>
            {{ temporada.status }}
          </span>
        {% endif %}
      </div>
    </div>
    <div class="w-11 h-11 rounded-lg bg-green-50/70 border border-green-300/60 grid place-items-center text-green-600">
      <i data-lucide="calendar" class="w-5 h-5"></i>
    </div>
  </div>
</div>

<!-- Ações rápidas -->
<div class="grid md:grid-cols-4 gap-4 mb-6">
  <a href="/temporadas/{{temporada.id}}/times" class="group rounded-lg bg-white/40 backdrop-blur-xl border border-slate-300/60 hover-border p-5 transition-all">
    <div class="w-11 h-11 rounded-lg bg-yellow-50/70 border border-yellow-300/60 grid place-items-center text-yellow-600 mb-3">
      <i data-lucide="shirt" class="w-5 h-5"></i>
    </div>
    <div class="text-sm font-semibold text-slate-900 mb-1">Times</div>
    <div class="text-xs text-slate-600">Gerenciar times da temporada</div>
  </a>

  <a href="/temporadas/{{temporada.id}}/rodadas" class="group rounded-lg bg-white/40 backdrop-blur-xl border border-slate-300/60 hover-border p-5 transition-all">
    <div class="w-11 h-11 rounded-lg bg-purple-50/70 border border-purple-300/60 grid place-items-center text-purple-600 mb-3">
      <i data-lucide="trophy" class="w-5 h-5"></i>
    </div>
    <div class="text-sm font-semibold text-slate-900 mb-1">Rodadas</div>
    <div class="text-xs text-slate-600">Gerenciar rodadas da temporada</div>
  </a>

  <a href="/temporadas/{{temporada.id}}/ranking" class="group rounded-lg bg-white/40 backdrop-blur-xl border border-slate-300/60 hover-border p-5 transition-all">
    <div class="w-11 h-11 rounded-lg bg-blue-50/70 border border-blue-300/60 grid place-items-center text-blue-600 mb-3">
      <i data-lucide="bar-chart-3" class="w-5 h-5"></i>
    </div>
    <div class="text-sm font-semibold text-slate-900 mb-1">Rankings</div>
    <div class="text-xs text-slate-600">Ver artilheiros e estatísticas</div>
  </a>

  <div class="rounded-lg bg-white/40 backdrop-blur-xl border border-slate-300/60 p-5">
    <div class="w-11 h-11 rounded-lg bg-rose-50/70 border border-rose-300/60 grid place-items-center text-rose-600 mb-3">
      <i data-lucide="alert-triangle" class="w-5 h-5"></i>
    </div>
    <div class="text-sm font-semibold text-slate-900 mb-1">Encerrar</div>
    <div class="text-xs text-slate-600 mb-3">Finalize todas as rodadas primeiro.</div>
    <form method="post">
      <input type="hidden" name="action" value="encerrar">
      <button class="w-full h-10 rounded-lg bg-white/60 border border-slate-300/60 hover-border text-xs font-semibold text-slate-700 transition-all inline-flex items-center justify-center gap-2">
        <i data-lucide="x-circle" class="w-4 h-4"></i>
        Encerrar temporada
      </button>
    </form>
  </div>
</div>

<!-- Guia -->
<div class="p-4 rounded-lg bg-blue-50/60 border border-blue-300/60">
  <div class="flex items-center gap-2 mb-2">
    <i data-lucide="info" class="w-4 h-4 text-blue-600"></i>
    <div class="text-sm font-semibold text-slate-900">Como usar a temporada</div>
  </div>
  <div class="text-xs text-slate-700 space-y-1">
    <div>1) Crie os times fixos que vão jogar durante toda a temporada</div>
    <div>2) Escale os jogadores em cada time</div>
    <div>3) Crie rodadas e selecione quais times participam de cada uma</div>
    <div>4) Confira os rankings e encerre a temporada quando terminar</div>
  </div>
</div>
{% endblock %}
